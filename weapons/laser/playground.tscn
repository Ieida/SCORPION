[gd_scene load_steps=5 format=3 uid="uid://1x0jq0ksuxx0"]

[ext_resource type="PackedScene" uid="uid://bfe22gg38a12u" path="res://weapons/laser/laser.tscn" id="1_lmcjr"]
[ext_resource type="PackedScene" uid="uid://7mhm8qsqlyqb" path="res://weapons/laser/target.tscn" id="2_htosr"]
[ext_resource type="AudioStream" uid="uid://b7tluv336ou4p" path="res://weapons/laser/temp_2.wav" id="3_c6xyq"]

[sub_resource type="GDScript" id="GDScript_ktdha"]
resource_name = "spawner"
script/source = "extends Node2D


@export var scene: PackedScene
@export var radius: float = 500


func _ready():
	while true:
		spawn()
		await get_tree().create_timer(1).timeout


func spawn():
	var n = scene.instantiate() as Node2D
	add_child(n)
  
	var d = Vector2.RIGHT.rotated(deg_to_rad(randf() * 360.0))
	n.global_position = global_position + d * radius
"

[node name="Playground" type="Node2D"]

[node name="Projectiles" type="Node" parent="." groups=["projectile_holder"]]

[node name="Laser" parent="." groups=["player"] instance=ExtResource("1_lmcjr")]
position = Vector2(569, 349)

[node name="Spawner" type="Node2D" parent="Laser"]
script = SubResource("GDScript_ktdha")
scene = ExtResource("2_htosr")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_c6xyq")
autoplay = true
